-- H2 2.2.224;
;             
CREATE USER IF NOT EXISTS "SA" SALT '62e2fd83270f171b' HASH '5412d2d3b2eaa84c72599724408acf795a83f712b9694fb851ccfcfcc36ad7bc' ADMIN;         
CREATE CACHED TABLE "PUBLIC"."ORDER_ITEMS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 5) NOT NULL,
    "PRICE" FLOAT(53) NOT NULL,
    "PRODUCT_NAME" CHARACTER VARYING(255) NOT NULL,
    "QUANTITY" INTEGER NOT NULL,
    "ORDER_ID" BIGINT NOT NULL,
    "PRODUCT_ID" BIGINT NOT NULL
);           
ALTER TABLE "PUBLIC"."ORDER_ITEMS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2" PRIMARY KEY("ID");  
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.ORDER_ITEMS;             
INSERT INTO "PUBLIC"."ORDER_ITEMS" VALUES
(1, 29.99, 'Wireless Mouse', 1, 1, 2),
(2, 29.99, 'Wireless Mouse', 1, 2, 2),
(3, 29.99, 'Wireless Mouse', 1, 3, 2),
(4, 12.99, 'USB-C Cable', 1, 4, 4);        
CREATE CACHED TABLE "PUBLIC"."ORDERS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 5) NOT NULL,
    "CARRIER" CHARACTER VARYING(255),
    "CREATED_AT" TIMESTAMP(6),
    "ORDER_STATUS" CHARACTER VARYING(255),
    "PAYMENT_ID" CHARACTER VARYING(255),
    "PAYMENT_METHOD" CHARACTER VARYING(255),
    "PAYMENT_STATUS" CHARACTER VARYING(255),
    "SHIPPING" FLOAT(53),
    "SHIPPING_CITY" CHARACTER VARYING(255),
    "SHIPPING_COUNTRY" CHARACTER VARYING(255),
    "SHIPPING_STATE" CHARACTER VARYING(255),
    "SHIPPING_STREET" CHARACTER VARYING(255),
    "SHIPPING_ZIP_CODE" CHARACTER VARYING(255),
    "SUBTOTAL" FLOAT(53),
    "TAX" FLOAT(53),
    "TOTAL_AMOUNT" FLOAT(53) NOT NULL,
    "TRACKING_NUMBER" CHARACTER VARYING(255),
    "USER_ID" BIGINT NOT NULL
);     
ALTER TABLE "PUBLIC"."ORDERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8B7" PRIMARY KEY("ID");     
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.ORDERS;  
INSERT INTO "PUBLIC"."ORDERS" VALUES
(1, 'USPS', TIMESTAMP '2026-01-23 13:43:25.614395', 'PENDING', 'pi_3SsrCR1Lz1tbrsSc1EUpXjOY', 'card', 'COMPLETED', 10.0, 'PARKER', 'USA', 'CO', 'Test', '80134', 29.99, 2.3992, 42.389199999999995, NULL, 2),
(2, 'USPS', TIMESTAMP '2026-01-23 13:48:31.568256', 'SHIPPED', 'pi_3SsrHO1Lz1tbrsSc17ghMoN7', 'card', 'COMPLETED', 10.0, 'PARKER', 'USA', 'CO', 'Test', '80134', 29.99, 2.3992, 42.389199999999995, '1Z999AA10123456784', 2),
(3, 'USPS', TIMESTAMP '2026-01-23 14:03:17.877703', 'SHIPPED', 'pi_3SsrVf1Lz1tbrsSc11rV8hxW', 'card', 'COMPLETED', 9.99, 'PARKER', 'USA', 'CO', 'Test', '80134', 29.99, 2.3992, 42.3792, '1Z999AA10123456784', 2),
(4, 'USPS', TIMESTAMP '2026-01-23 15:25:01.388611', 'SHIPPED', 'pi_3Sssmk1Lz1tbrsSc0HHri7h3', 'card', 'COMPLETED', 9.99, 'PARKER', 'USA', 'CO', 'Test', '80134', 12.99, 1.0392000000000001, 24.019199999999998, '9400111899223344556677', 2);         
CREATE CACHED TABLE "PUBLIC"."PAYMENT_METHODS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 3) NOT NULL,
    "CARD_BRAND" CHARACTER VARYING(255),
    "CARD_LAST_FOUR" CHARACTER VARYING(255),
    "CREATED_AT" TIMESTAMP(6),
    "IS_DEFAULT" BOOLEAN,
    "STRIPE_PAYMENT_METHOD_ID" CHARACTER VARYING(255) NOT NULL,
    "USER_ID" BIGINT NOT NULL
);               
ALTER TABLE "PUBLIC"."PAYMENT_METHODS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_D" PRIMARY KEY("ID");              
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.PAYMENT_METHODS;         
INSERT INTO "PUBLIC"."PAYMENT_METHODS" VALUES
(1, 'card', '4242', TIMESTAMP '2026-01-23 13:43:25.495005', FALSE, 'pm_1SsrCS1Lz1tbrsScsf6tmGA9', 2),
(2, 'mastercard', '4444', TIMESTAMP '2026-01-23 14:20:00.512937', TRUE, 'pm_1Ssrlr1Lz1tbrsSczhw5Dvdv', 2);              
CREATE CACHED TABLE "PUBLIC"."PRODUCTS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 13) NOT NULL,
    "CATEGORY" CHARACTER VARYING(255),
    "DESCRIPTION" CHARACTER VARYING(1000),
    "IMAGE_URL" CHARACTER VARYING(255),
    "NAME" CHARACTER VARYING(255) NOT NULL,
    "PRICE" FLOAT(53) NOT NULL,
    "STOCK" INTEGER NOT NULL
);               
ALTER TABLE "PUBLIC"."PRODUCTS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_F" PRIMARY KEY("ID");     
-- 12 +/- SELECT COUNT(*) FROM PUBLIC.PRODUCTS;               
INSERT INTO "PUBLIC"."PRODUCTS" VALUES
(1, 'Electronics', 'High-performance laptop with 16GB RAM', 'https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=500', 'Laptop', 999.99, 50),
(2, 'Electronics', 'Ergonomic wireless mouse with USB receiver', 'https://images.unsplash.com/photo-1527864550417-7fd91fc51a46?w=500', 'Wireless Mouse', 29.99, 197),
(3, 'Electronics', 'RGB mechanical gaming keyboard', 'https://images.unsplash.com/photo-1587829741301-dc798b83add3?w=500', 'Mechanical Keyboard', 89.99, 100),
(4, 'Accessories', 'Fast charging USB-C cable 6ft', 'https://images.unsplash.com/photo-1583863788434-e58a36330cf0?w=500', 'USB-C Cable', 12.99, 499),
(5, 'Electronics', 'Noise-cancelling wireless headphones', 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=500', 'Headphones', 199.99, 75),
(6, 'Accessories', 'Laptop backpack with USB charging port', 'https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=500', 'Backpack', 49.99, 150),
(7, 'Home & Office', 'Stainless steel insulated water bottle', 'https://images.unsplash.com/photo-1602143407151-7111542de6e8?w=500', 'Water Bottle', 24.99, 300),
(8, 'Home & Office', 'LED desk lamp with adjustable brightness', 'https://images.unsplash.com/photo-1507473885765-e6ed057f782c?w=500', 'Desk Lamp', 39.99, 120),
(9, 'Furniture', 'Ergonomic office chair with lumbar support', 'https://images.unsplash.com/photo-1580480055273-228ff5388ef8?w=500', 'Office Chair', 249.99, 40),
(10, 'Electronics', '27-inch 4K UHD monitor', 'https://images.unsplash.com/photo-1527443224154-c4a3942d3acf?w=500', 'Monitor', 399.99, 60),
(11, 'Electronics', '1080p HD webcam with microphone', 'https://images.unsplash.com/photo-1587825140708-dfaf72ae4b04?w=500', 'Webcam', 79.99, 90),
(12, 'Accessories', 'Protective phone case with card holder', 'https://images.unsplash.com/photo-1601784551446-20c9e07cdbdb?w=500', 'Phone Case', 19.99, 400);
CREATE CACHED TABLE "PUBLIC"."SHIPPING_CONFIG"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 2) NOT NULL,
    "FREE_SHIPPING_THRESHOLD" FLOAT(53) NOT NULL,
    "SHIPPING_COST" FLOAT(53) NOT NULL,
    "UPDATED_AT" TIMESTAMP(6)
);       
ALTER TABLE "PUBLIC"."SHIPPING_CONFIG" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_5" PRIMARY KEY("ID");              
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.SHIPPING_CONFIG;         
INSERT INTO "PUBLIC"."SHIPPING_CONFIG" VALUES
(1, 50.0, 9.99, TIMESTAMP '2026-01-23 14:00:44.43573');        
CREATE CACHED TABLE "PUBLIC"."USERS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 3) NOT NULL,
    "BILLING_ZIP" CHARACTER VARYING(255),
    "CARD_LAST_FOUR" CHARACTER VARYING(255),
    "CREATED_AT" TIMESTAMP(6),
    "DEFAULT_PAYMENT_METHOD_ID" CHARACTER VARYING(255),
    "EMAIL" CHARACTER VARYING(255) NOT NULL,
    "NAME" CHARACTER VARYING(255) NOT NULL,
    "PASSWORD" CHARACTER VARYING(255) NOT NULL,
    "PHONE_NUMBER" CHARACTER VARYING(255),
    "ROLE" CHARACTER VARYING(255) NOT NULL,
    "SAVED_PAYMENT_METHOD" CHARACTER VARYING(255),
    "STRIPE_CUSTOMER_ID" CHARACTER VARYING(255),
    "STRIPE_PAYMENT_METHOD_ID" CHARACTER VARYING(255)
);        
ALTER TABLE "PUBLIC"."USERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4D" PRIMARY KEY("ID");       
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.USERS;   
INSERT INTO "PUBLIC"."USERS" VALUES
(1, NULL, NULL, TIMESTAMP '2026-01-23 13:41:00.439964', NULL, 'admin@ecommerce.com', 'Admin', '$2a$10$ab42t3RgOjThDbJh.1q1U.xzD6NstSp7YxxJU2K0vV/wYYHYIwJXO', NULL, 'ADMIN', NULL, NULL, NULL),
(2, NULL, '4444', TIMESTAMP '2026-01-23 13:41:23.046077', 'pm_1Ssrlr1Lz1tbrsSczhw5Dvdv', 'mdshariq2009@gmail.com', 'Test User', '$2a$10$gIsn6wHHaZ3Y1BlXhqnUnekKa50vClKM9rU8uDaj3zjXTuLenZ9y6', NULL, 'USER', 'mastercard', 'cus_TqYJ4HfTKARcqn', 'pm_1Ssrlr1Lz1tbrsSczhw5Dvdv');       
ALTER TABLE "PUBLIC"."ORDERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8B" CHECK("PAYMENT_STATUS" IN('PENDING', 'COMPLETED', 'FAILED', 'REFUNDED')) NOCHECK;       
ALTER TABLE "PUBLIC"."USERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" CHECK("ROLE" IN('USER', 'ADMIN')) NOCHECK;
ALTER TABLE "PUBLIC"."ORDERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" CHECK("ORDER_STATUS" IN('PENDING', 'PROCESSING', 'SHIPPED', 'DELIVERED', 'CANCELLED')) NOCHECK;          
ALTER TABLE "PUBLIC"."USERS" ADD CONSTRAINT "PUBLIC"."UK_6DOTKOTT2KJSP8VW4D0M25FB7" UNIQUE("EMAIL");          
ALTER TABLE "PUBLIC"."ORDERS" ADD CONSTRAINT "PUBLIC"."FK32QL8UBNTJ5UH44PH9659TIIH" FOREIGN KEY("USER_ID") REFERENCES "PUBLIC"."USERS"("ID") NOCHECK;         
ALTER TABLE "PUBLIC"."ORDER_ITEMS" ADD CONSTRAINT "PUBLIC"."FKBIOXGBV59VETRXE0EJFUBEP1W" FOREIGN KEY("ORDER_ID") REFERENCES "PUBLIC"."ORDERS"("ID") NOCHECK;  
ALTER TABLE "PUBLIC"."ORDER_ITEMS" ADD CONSTRAINT "PUBLIC"."FKOCIMC7DTR037RH4LS4L95NLFI" FOREIGN KEY("PRODUCT_ID") REFERENCES "PUBLIC"."PRODUCTS"("ID") NOCHECK;              
ALTER TABLE "PUBLIC"."PAYMENT_METHODS" ADD CONSTRAINT "PUBLIC"."FKIN7RTMIM3LJRRHH5KXBQ27S2V" FOREIGN KEY("USER_ID") REFERENCES "PUBLIC"."USERS"("ID") NOCHECK;
